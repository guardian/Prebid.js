(self.pbjsChunk=self.pbjsChunk||[]).push([[10],{7809:(n,e,t)=>{var o=t(8676),i=t(1218),a=t(3172),s=t(9581),r=t(2649),c=t(7260),l=t(8001),u=t(7173),d=t(2159),p=t(4438);const f=2;let g,m,b,C,v,y,M=!1;const A={iab:function(n){let{onSuccess:e,onError:t,onEvent:o}=n;const a=(0,p.c5)({apiName:"__tcfapi",apiVersion:f,apiArgs:["command","version","callback","parameter"]});if(!a)return t("TCF2 CMP not found.");a.isDirect?(0,i.fH)("Detected CMP API is directly accessible, calling it now..."):(0,i.fH)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now...");a({command:"addEventListener",callback:function(n,a){(0,i.fH)("Received a response from CMP",n),a?(o(n),!1!==n.gdprApplies&&"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||k(n,{onSuccess:e,onError:t})):t("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(n){let{onSuccess:e,onError:t}=n;k(C,{onSuccess:e,onError:t})}};function E(n){let e,t,o=!1,i=null,a=!1;function s(n){null!=i&&clearTimeout(i),o||null==n||(0===n?e():i=setTimeout(e,n))}function l(e,t,i){if(s(null),o=!0,r.mW.setConsentData(e),"function"==typeof n){for(var a=arguments.length,c=new Array(a>3?a-3:0),l=3;l<a;l++)c[l-3]=arguments[l];n(t,i,...c)}}if(!(0,c.mK)(Object.keys(A),g))return void l(null,!1,`CMP framework (${g}) is not a supported framework.  Aborting consentManagement module and resuming auction.`);const u={onSuccess:n=>l(n,!1),onError:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];l(null,!0,n,...t)},onEvent:function(n){t=n,a||(a=!0,null!=v&&s(v))}};e=()=>{const n=n=>{l(n,!1,(a?"Timeout waiting for user action on CMP":"CMP did not load")+", continuing auction...")};k(t,{onSuccess:n,onError:()=>n(P(void 0))})},A[g](u),null!=v&&a||s(m)}const S=(0,l.Ak)("gdpr",(function(n,e){var t;t=function(t,o){if(o){let n=i.JE;t&&(n=i.vV,o=`${o} Canceling auction as per consentManagement config.`);for(var a=arguments.length,s=new Array(a>2?a-2:0),r=2;r<a;r++)s[r-2]=arguments[r];n(o,...s)}t?(n.stopTiming(),"function"==typeof e.bidsBackHandler?e.bidsBackHandler():(0,i.vV)("Error executing bidsBackHandler")):n.call(this,e)},y?((0,i.fH)("User consent information already known.  Pulling internally stored information..."),t(!1)):E(t)}));function k(n,e){let{onSuccess:t,onError:o}=e;!function(){const e=n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:b,t=n&&n.tcString;return!("boolean"==typeof e&&(!0!==e||t&&(0,i.O8)(t)))}()?t(P(n)):o("CMP returned unexpected value during lookup process.",n)}function P(n){return y={consentString:n?n.tcString:void 0,vendorData:n||void 0,gdprApplies:n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:b},n&&n.addtlConsent&&(0,i.O8)(n.addtlConsent)&&(y.addtlConsent=n.addtlConsent),y.apiVersion=f,y}s.$W.getConfig("consentManagement",(n=>function(n){(n=n&&(n.gdpr||n.usp||n.gpp?n.gdpr:n))&&"object"==typeof n?((0,i.O8)(n.cmpApi)?g=n.cmpApi:(g="iab",(0,i.fH)("consentManagement config did not specify cmp.  Using system default setting (iab).")),(0,i.Et)(n.timeout)?m=n.timeout:(m=1e4,(0,i.fH)("consentManagement config did not specify timeout.  Using system default setting (10000).")),v=(0,i.Et)(n.actionTimeout)?n.actionTimeout:null,b=!0===n.defaultGdprScope,(0,i.fH)("consentManagement module has been activated..."),"static"===g&&((0,i.Qd)(n.consentData)?(C=n.consentData,null!=C?.getTCData&&(C=C.getTCData),m=0):(0,i.vV)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),M||(0,o.m)().requestBids.before(S,50),M=!0,r.mW.enable(),E()):(0,i.JE)("consentManagement (gdpr) config not defined, exiting consent manager")}(n.consentManagement))),d.w.before((function(n,e){return n(e.then((n=>{const e=r.mW.getConsentData();return e&&("boolean"==typeof e.gdprApplies&&(0,a.J)(n,"regs.ext.gdpr",e.gdprApplies?1:0),(0,a.J)(n,"user.ext.consent",e.consentString)),n})))})),(0,u.pS)({type:u.S3,name:"gdprAddtlConsent",fn:function(n,e){const t=e.gdprConsent?.addtlConsent;t&&"string"==typeof t&&(0,a.J)(n,"user.ext.ConsentedProvidersSettings.consented_providers",t)}}),(0,o.E)("consentManagement"),(0,o.E)("consentManagement")}},n=>{n.O(0,[802,109,85],(()=>{return e=7809,n(n.s=e);var e}));n.O()}]);