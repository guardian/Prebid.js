(self.pbjsChunk=self.pbjsChunk||[]).push([[879],{4870:(e,t,n)=>{var a=n(8676),r=n(9581),s=n(6028),o=n(3172),p=n(433),i=n(1218),d=n(8018),m=n(3999),u=n(1386);const l="https://rtb.openx.net/openrtbb/prebidjs",c={code:"openx",aliases:["oxd"],gvlid:69,supportedMediaTypes:[d.D4,d.G_],isBidRequestValid:function(e){const t=e.params.delDomain||e.params.platform;if(p.A(e,"mediaTypes.banner")&&t)return!!e.params.unit||p.A(e,"mediaTypes.banner.sizes.length")>0;return!(!e.params.unit||!t)},buildRequests:function(e,t){let n=e.filter((e=>x(e))),a=e.filter((e=>function(e){return p.A(e,"mediaTypes.banner")||!x(e)}(e))),r=a.length?[f(a,t,d.D4)]:[];return n.forEach((e=>{r.push(f([e],t,d.G_))})),r},interpretResponse:function(e,t){e.body||(e.body={nbr:0});return b.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,n,a){if(e.iframeEnabled||e.pixelEnabled){let r=e.iframeEnabled?"iframe":"image",s=[],o="https://u.openx.net/w/1.0/pd";if(n&&(s.push("gdpr="+(n.gdprApplies?1:0)),s.push("gdpr_consent="+encodeURIComponent(n.consentString||""))),a&&s.push("us_privacy="+encodeURIComponent(a)),t.length>0&&t[0].body&&t[0].body.ext){const e=t[0].body.ext;e.delDomain?o=`https://${e.delDomain}/w/1.0/pd`:e.platform&&s.push("ph="+e.platform)}else s.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:r,url:`${o}${s.length>0?"?"+s.join("&"):""}`}]}},transformBidParams:function(e,t){return(0,u.$)({unit:"string",customFloor:"number"},e)}};(0,s.a$)(c);const b=(0,m.A)({context:{netRevenue:!0,ttl:300},imp(e,t,n){const a=e(t,n);return(0,i.D9)(a,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&o.J(a,"ext.customParams",t.params.customParams),t.params.customFloor&&!a.bidfloor&&(a.bidfloor=t.params.customFloor),a},request(e,t,n,a){const r=e(t,n,a);(0,i.D9)(r,{at:1,ext:{bc:"hb_pb_ortb_2.0",pv:"8.52.0-10"}});const s=a.bidRequests[0];return s.params.coppa&&o.J(r,"regs.coppa",1),s.params.doNotTrack&&o.J(r,"device.dnt",1),s.params.platform&&o.J(r,"ext.platform",s.params.platform),s.params.delDomain&&o.J(r,"ext.delDomain",s.params.delDomain),s.params.response_template_name&&o.J(r,"ext.response_template_name",s.params.response_template_name),s.params.test&&(r.test=1),r},bidResponse(e,t,n){const a=e(t,n);t.ext&&(a.meta.networkId=t.ext.dsp_id,a.meta.advertiserId=t.ext.buyer_id,a.meta.brandId=t.ext.brand_id);const{ortbResponse:r}=n;return r.ext&&r.ext.paf&&(a.meta.paf=Object.assign({},r.ext.paf),a.meta.paf.content_id=p.A(t,"ext.paf.content_id")),a},response(e,t,n,a){const{ortbRequest:r}=a;r.ext&&(r.ext.delDomain&&o.J(n,"ext.delDomain",r.ext.delDomain),r.ext.platform&&o.J(n,"ext.platform",r.ext.platform));const s=e(t,n,a);let d=p.A(n,"ext.fledge_auction_configs");return d?(d=Object.entries(d).map((e=>{let[t,n]=e;return{bidId:t,config:(0,i.D9)(Object.assign({},n),{auctionSignals:{ortb2Imp:a.impContext[t]?.imp}})}})),{bids:s.bids,fledgeAuctionConfigs:d}):s.bids},overrides:{imp:{bidfloor(e,t,n,a){const r={};e(r,n,{...a,currency:"USD"}),"USD"===r.bidfloorcur&&Object.assign(t,r)},video(e,t,n,a){{let r=n.mediaTypes[d.G_];r&&(r=Object.assign({},r,n.params.video),n={...n,mediaTypes:{[d.G_]:r}}),e(t,n,a)}}}}});function f(e,t,n){return{method:"POST",url:r.$W.getConfig("openxOrtbUrl")||l,data:b.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:n}})}}function x(e){return p.A(e,"mediaTypes.video")}(0,a.E)("openxBidAdapter"),(0,a.E)("openxBidAdapter")}},e=>{e.O(0,[802,498,126,85],(()=>{return t=4870,e(e.s=t);var t}));e.O()}]);