(self.pbjsChunk=self.pbjsChunk||[]).push([[50],{491:(e,t,n)=>{var r=n(8676),o=n(8497),i=n(2305),a=n(6650),s=n(1218),c=n(8937);const d=e=>"[object String]"===Object.prototype.toString.call(e);var u,l,b,f,p=Object.defineProperty,g=e=>{throw TypeError(e)},h=(e,t,n)=>((e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),m=(e,t,n)=>t.has(e)||g("Cannot "+n),v=(e,t,n)=>(m(e,t,"read from private field"),n?n.call(e):t.get(e)),w=(e,t,n)=>t.has(e)?g("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),y=(e,t,n,r)=>(m(e,t,"write to private field"),t.set(e,n),n);class k{constructor(e){w(this,u),h(this,"isAvailable",(()=>Boolean(v(this,u)))),h(this,"get",(e=>{try{const t=JSON.parse(v(this,u)?.getItem(e)??"");if(!(e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype})(t))return null;const{value:n,expires:r}=t;return(d(r)||"number"==typeof r)&&new Date>new Date(r)?(this.remove(e),null):n}catch(e){return null}})),h(this,"set",((e,t,n)=>v(this,u)?.setItem(e,JSON.stringify({value:t,expires:n?new Date(n):void 0})))),h(this,"remove",(e=>v(this,u)?.removeItem(e))),h(this,"clear",(()=>v(this,u)?.clear())),h(this,"getRaw",(e=>v(this,u)?.getItem(e)??null)),h(this,"setRaw",((e,t)=>v(this,u)?.setItem(e,t))),h(this,"key",(e=>v(this,u)?.key(e)??null)),h(this,"length",(()=>v(this,u)?.length??null));try{const t=window[e],n=(new Date).toString();t.setItem(n,n);const r=t.getItem(n)==n;t.removeItem(n),r&&y(this,u,t)}catch(e){}}}u=new WeakMap;const I=new(f=class{constructor(){w(this,l),w(this,b)}get local(){return v(this,l)||y(this,l,new k("localStorage"))}get session(){return v(this,b)||y(this,b,new k("sessionStorage"))}},l=new WeakMap,b=new WeakMap,f),x="gu.logger",O={commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"},supporterRevenue:{background:"#0F70B7",font:"#ffffff"},identity:{background:"#6F5F8F",font:"#ffffff"},openJournalism:{background:"#C74600",font:"#FEF9F5"},perf:{background:"#FFD700",font:"#000000"}},A=e=>Object.keys(O).includes(e);var F;let j;const T=()=>{if((e=>void 0===e)(j)){const e=I.local.get(x);j=d(e)?new Set(e.split(",").filter(A)):new Set}return j},S=e=>{const t=T();t.add(e),I.local.set(x,Array.from(t).join(",")),E(e,"ğŸ”” Subscribed, hello!")},q=e=>{const t=T();t.delete(e),I.local.set(x,Array.from(t).join(",")),E(e,"ğŸ”• Unsubscribed, good-bye!")},C={...O,common:{background:"#C1D8FC",font:"#052962"}},D=e=>{const{background:t,font:n}=C[e];return`background: ${t}; color: ${n}; padding: 2px 6px; border-radius:20px`},E=function(e){if((e=>T().has(e))(e)){const o=[D("common"),"",D(e),""];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`%c@guardian%c %c${e}%c`,...o,...n)}};"undefined"!=typeof window&&(window.guardian||(window.guardian={}),(F=window.guardian).logger||(F.logger={subscribeTo:S,unsubscribeFrom:q,teams:()=>(console.warn("guardian.logger.teams() is deprecated - use subscriptions()"),Object.keys(O)),subscriptions:()=>Object.keys(O)}));const N={};N[a.qY.AUCTION_END]=!0,N[a.qY.BID_WON]=!0;let _=Object.assign((0,o.Ay)({analyticsType:"endpoint"}),{track(e){let{eventType:t,args:n}=e;if(!_.context)return;let r=null;switch(t){case a.qY.AUCTION_INIT:_.context.queue&&_.context.queue.init(),r=z;break;case a.qY.BID_REQUESTED:r=Y;break;case a.qY.BID_RESPONSE:r=R;break;case a.qY.NO_BID:r=$;break;case a.qY.AUCTION_END:r=W;break;case a.qY.BID_WON:r=B}if(r){let e=r(n);e&&_.context.queue&&(t===a.qY.BID_WON&&_.context.queue.init(),_.context.queue.push(e)),N[t]&&function(){let e=_.context.queue.popAll();if(function(e){return e.length>0&&("init"===e[0].ev||"bidwon"===e[0].ev)}(e)){let t=Object.assign({},_.context.requestTemplate,{hb_ev:e});_.ajaxCall(JSON.stringify(t))}}()}}});function U(e){if("ozone"!==e.bidderCode)return e.bidderCode;if(e.adserverTargeting){for(let t in e.adserverTargeting){const[,n,r]=t.split("_"),o=e.adserverTargeting[t];if("adId"===r&&o===e.adId)return`ozone-${n}`}if(e.adserverTargeting.oz_winner&&"string"==typeof e.adserverTargeting.oz_winner)return`ozone-${e.adserverTargeting.oz_winner}`}return"ozone-unknown"}function B(e){const t={ev:"bidwon"};return J(t,"aid",e.auctionId),J(t,"bid",e.requestId),[t]}function z(e){_.context.auctionTimeStart=Date.now();const t={ev:"init"};return J(t,"aid",e.auctionId),J(t,"st",_.context.auctionTimeStart),[t]}function Y(e){return e.bids?e.bids.map((t=>{const n={ev:"request"};return J(n,"n",e.bidderCode),J(n,"sid",t.adUnitCode),J(n,"bid",t.bidId),J(n,"st",e.start),n})):null}function R(e){if("Bid available"===e.statusMessage){const t={ev:"response"};return J(t,"n",U(e)),J(t,"bid",e.requestId),J(t,"sid",e.adUnitCode),J(t,"cpm",e.cpm),J(t,"pb",e.pbCg),J(t,"cry",e.currency),J(t,"net",e.netRevenue),J(t,"did",e.adId),J(t,"cid",e.creativeId),J(t,"sz",e.size),J(t,"ttr",e.timeToRespond),J(t,"lid",e.dealId),e.meta&&(J(t,"dsp",e.meta.networkId),J(t,"adv",e.meta.buyerId),J(t,"bri",e.meta.brandId),J(t,"brn",e.meta.brandName),J(t,"add",e.meta.clickUrl)),[t]}return null}function $(e){const t=Date.now()-_.context.auctionTimeStart,n={ev:"nobid"};return J(n,"n",e.bidder),J(n,"bid",e.bidId),J(n,"sid",e.adUnitCode),J(n,"aid",e.auctionId),J(n,"ttr",t),[n]}function W(e){const t=Date.now()-_.context.auctionTimeStart,n={ev:"end"};return J(n,"aid",e.auctionId),J(n,"ttr",t),[n]}function J(e,t,n){null!=n&&Object.assign(e,{[t]:n})}function P(){let e=[];this.push=t=>{t instanceof Array?e.push.apply(e,t):e.push(t)},this.popAll=()=>{let t=e;return e=[],t},this.peekAll=()=>e,this.init=()=>{e=[]}}_.ajaxCall=function(e){const t=_.context.ajaxUrl;if(!t)return;(0,c.RD)(t,(e=>function(e){const t="init"===e[0]?.ev,n="bidwon"===e[0]?.ev;let r="";if(t){const t=e?.find((e=>e.sid))?.sid;r=`bids for ${t}`}else if(n){const t=e[0]?.bid;r=`bid won ${t}`}E("commercial",`Prebid.js events: ${r}`,e)}(JSON.parse(e).hb_ev))(e),e,{method:"POST",contentType:"text/plain; charset=utf-8",keepalive:!0})},_.context={},_.originEnableAnalytics=_.enableAnalytics,_.enableAnalytics=e=>{var t;e.options.ajaxUrl?e.options.pv?(_.context={ajaxUrl:e.options.ajaxUrl,pv:e.options.pv,requestTemplate:(t=e.options,{v:9,pv:t.pv}),queue:new P},_.originEnableAnalytics(e)):s.vV("pv is not defined. Analytics won't work"):s.vV("ajaxUrl is not defined. Analytics won't work")},i.Ay.registerAnalyticsAdapter({adapter:_,code:"gu"});(0,r.E)("guAnalyticsAdapter"),(0,r.E)("guAnalyticsAdapter")}},e=>{e.O(0,[630,802,85],(()=>{return t=491,e(e.s=t);var t}));e.O()}]);